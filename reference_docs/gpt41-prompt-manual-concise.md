# GPT-4.1 プロンプト作成マニュアル【簡潔版】

要約元資料: https://github.com/openai/openai-cookbook/blob/main/examples/gpt4-1_prompting_guide.ipynb

## GPT-4.1の特性
- **指示忠実性向上**: より文字通りに指示に従う
- **100万トークン文脈**: 約75万語を一度に処理可能
- **コーディング強化**: フロントエンド、フォーマット一貫性、応答構造等が改善

## 基本原則
### 明確さと具体性
- 明示的指示、完全な情報提供、曖昧さ排除、具体例活用

### 役割設定
- 専門ペルソナ指定：`あなたは経験豊富なセキュリティエンジニアです`
- 文脈提供：目的・背景を明示

### 出力フォーマット指定
- 構造・制約を明確に：セクション、文字数、含めるべき要素

## 高度技術
### Few-shotプロンプティング
```
タスク: 英文の専門的日本語翻訳
例1: 入力: "X" → 出力: "Y"
例2: 入力: "A" → 出力: "B"
翻訳対象: "Z"
```

### Chain-of-Thought
```
数学問題を解いてください。ステップバイステップで考え、理由を説明してから答えを出してください。
問題: [複雑な問題]
```

### 内部モノローグ
```
[内部思考]（様々な視点検討）
[結論]（バランスの取れた見解）
```

### 反復的改良
```
ステップ1: 基本説明作成
ステップ2: 要素追加（課題、研究方向、影響）
ステップ3: 簡略化、専門用語説明
```

## エージェント開発技術
### 持続的リマインダー
```
あなたは○○です。常に以下の原則に従ってください：
1. 原則A
2. 原則B
```

### ツール使用最適化
```
以下のツールを使用してください：
1. ツールA: 用途、使用方法、使用タイミング
2. ツールB: 用途、使用方法、使用タイミング
```

### 計画実行フレームワーク
```
[計画フェーズ]（情報特定、タスク分解、優先順位決定、課題予測）
[実行フェーズ]（段階的実行）
[評価フェーズ]（結果評価、次ステップ提案）
```

## 長文脈活用技術
### 階層的構成
```
[主要コンテキスト]（常に参照する重要情報）
[詳細指示]（必要時参照）
[参照データ]（検索用大量情報）
```

### 検索可能性強化
```
---SECTION_START: タイトル---
[大量情報]
---SECTION_END---
```

## コーディング最適化
### 詳細仕様定義
```
【機能要件】（具体的機能リスト）
【技術要件】（使用技術、実装方法）
【セキュリティ要件】（対策リスト）
【品質要件】（テスト、構造、文書化）
```

### コードレビュー
```
【レビュー基準】（パフォーマンス、メンテナンス性、セキュリティ）
【レビュー対象コード】
【出力形式】（問題点、説明、改良コード、改善点）
```

### テスト駆動開発
```
【機能仕様】
【テストケース】
【要実装内容】
```

## 最適化ヒント
- **優先順位と制約の明示**
- **段階的改良とフィードバック**
- **重要情報を前半に配置**（長文脈での精度低下対策）
- **parallel_tool_calls=false**（並列ツール呼び出し問題対策）